{
	"id": "387b612c-a399-5d1e-497b-cba7cbf738c8",
	"name": "ilxe_postman_workflows-list_services",
	"description": "Testing execution of POSTMAN workflow on F5 iWorkflow using newman, via an iControlLX extension. ",
	"order": [
		"83478a93-1b5f-b226-fc52-0ed01db88ac6",
		"2f993a21-c975-1f03-29ee-2b8c932b9e87",
		"a730201d-5982-4b39-d01b-c58911bcd0d1",
		"1f8779d2-30fd-b9c8-8f17-40f8b12d55b4",
		"74bedbba-5a8b-4002-f6bb-cd22b1d75a3b"
	],
	"folders": [],
	"timestamp": 1492737536739,
	"owner": "720937",
	"public": false,
	"requests": [
		{
			"id": "1f8779d2-30fd-b9c8-8f17-40f8b12d55b4",
			"headers": "X-F5-Auth-Token: {{iWorkflow1_Auth_Token}}\n",
			"url": "https://{{iWorkflow1_Mgmt_IP}}/mgmt/cm/cloud/tenants/myTenant1/connectors",
			"preRequestScript": null,
			"pathVariables": {},
			"method": "GET",
			"data": null,
			"dataMode": "params",
			"tests": "var respData = JSON.parse(responseBody);\nvar count = respData.items.length;\n\n// if there are more than zero connectors\nif (count !== 0) {\n    // for each connector, create Postman env var. Store Connector displayName in the var name and the connectorID as the value.\n    for (var i = 0; i < count; i++) {\n        postman.setEnvironmentVariable(respData.items[i].name,respData.items[i].connectorId);\n    }\n}\n",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1470078636736,
			"name": "List Tenant Connectors",
			"description": "",
			"collectionId": "387b612c-a399-5d1e-497b-cba7cbf738c8",
			"responses": []
		},
		{
			"id": "2f993a21-c975-1f03-29ee-2b8c932b9e87",
			"headers": "X-F5-Auth-Token: {{iWorkflow1_Auth_Token}}\nContent-Type: application/json\n",
			"url": "https://{{iWorkflow1_Mgmt_IP}}/mgmt/shared/authz/tokens/{{iWorkflow1_Auth_Token}}",
			"preRequestScript": null,
			"pathVariables": {},
			"method": "PATCH",
			"data": [],
			"dataMode": "raw",
			"tests": "tests[\"Status code is 200\"] = responseCode.code === 200;\n\nvar respData = JSON.parse(responseBody);\ntests[\"Auth Token timeout is: \" +respData.timeout] = respData.timeout;\n",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1473875027521,
			"name": "Increase Auth Token Timeout",
			"description": "",
			"collectionId": "387b612c-a399-5d1e-497b-cba7cbf738c8",
			"responses": [],
			"rawModeData": "{\n    \"timeout\":\"36000\"\n}"
		},
		{
			"id": "74bedbba-5a8b-4002-f6bb-cd22b1d75a3b",
			"headers": "X-F5-Auth-Token: {{iWorkflow1_Auth_Token}}\n",
			"url": "https://{{iWorkflow1_Mgmt_IP}}/mgmt/cm/cloud/tenants/{{tenant_name}}/services/iapp/",
			"preRequestScript": null,
			"pathVariables": {},
			"method": "GET",
			"data": null,
			"dataMode": "params",
			"version": 2,
			"tests": null,
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1492737708467,
			"name": "List deployed Tenant L4 - L7 Services",
			"description": "",
			"collectionId": "387b612c-a399-5d1e-497b-cba7cbf738c8",
			"responses": []
		},
		{
			"id": "83478a93-1b5f-b226-fc52-0ed01db88ac6",
			"headers": "Content-Type: application/json\n",
			"url": "https://{{iWorkflow1_Mgmt_IP}}/mgmt/shared/authn/login",
			"preRequestScript": null,
			"pathVariables": {},
			"method": "POST",
			"data": [],
			"dataMode": "raw",
			"tests": "var respData = JSON.parse(responseBody);\n\ntests[\"response has token: \" +respData.token.token] = respData.token.token;\n\npostman.setEnvironmentVariable('iWorkflow1_Auth_Token',respData.token.token);\n",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1488987202637,
			"name": "Request a Tenant Token from iWorkflow",
			"description": "Request a token from the iWorkflow platform.",
			"collectionId": "387b612c-a399-5d1e-497b-cba7cbf738c8",
			"responses": [],
			"rawModeData": "{\n  \"username\": \"user1\",\n  \"password\": \"admin\",\n  \"loginProvidername\": \"tmos\"\n}"
		},
		{
			"id": "a730201d-5982-4b39-d01b-c58911bcd0d1",
			"headers": "",
			"url": "https://{{iWorkflow1_Mgmt_IP}}/mgmt/shared/authz/roles?$select=displayName",
			"preRequestScript": null,
			"pathVariables": {},
			"method": "GET",
			"data": null,
			"dataMode": "params",
			"version": 2,
			"tests": null,
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1481578588256,
			"name": "List Tenant Memberships",
			"description": "",
			"collectionId": "387b612c-a399-5d1e-497b-cba7cbf738c8",
			"responses": []
		}
	]
}
